<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MDAL: MDAL::Driver2dm Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MDAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>MDAL</b></li><li class="navelem"><a class="el" href="classMDAL_1_1Driver2dm.html">Driver2dm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMDAL_1_1Driver2dm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MDAL::Driver2dm Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>2DM format specification used in TUFLOW, HYDRO_AS-2D and BASEMENET solvers Text file format representing mesh vertices (ND) and faces (E**) ND id x y z The format supports lines, triangles and quads, where the elememts could be stored with some intermediate points (e.g.  
 <a href="classMDAL_1_1Driver2dm.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mdal__2dm_8hpp_source.html">mdal_2dm.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MDAL::Driver2dm:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMDAL_1_1Driver2dm.png" usemap="#MDAL::Driver2dm_map" alt=""/>
  <map id="MDAL::Driver2dm_map" name="MDAL::Driver2dm_map">
<area href="classMDAL_1_1Driver.html" alt="MDAL::Driver" shape="rect" coords="0,0,113,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a46390d9f60222be455c5c52b85835039"><td class="memItemLeft" align="right" valign="top"><a id="a46390d9f60222be455c5c52b85835039"></a>
<a class="el" href="classMDAL_1_1Driver2dm.html">Driver2dm</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>create</b> () override</td></tr>
<tr class="separator:a46390d9f60222be455c5c52b85835039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa96a324425d161fffb8880e2b934346"><td class="memItemLeft" align="right" valign="top"><a id="aaa96a324425d161fffb8880e2b934346"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDAL_1_1Driver2dm.html#aaa96a324425d161fffb8880e2b934346">faceVerticesMaximumCount</a> () const override</td></tr>
<tr class="memdesc:aaa96a324425d161fffb8880e2b934346"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the maximum vertices per face <br /></td></tr>
<tr class="separator:aaa96a324425d161fffb8880e2b934346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad762f3cdd0f22280be1c0eec4c3679de"><td class="memItemLeft" align="right" valign="top"><a id="ad762f3cdd0f22280be1c0eec4c3679de"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>canReadMesh</b> (const std::string &amp;uri) override</td></tr>
<tr class="separator:ad762f3cdd0f22280be1c0eec4c3679de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f81ec0f50529352edd2c2dbc50cf47"><td class="memItemLeft" align="right" valign="top"><a id="a43f81ec0f50529352edd2c2dbc50cf47"></a>
std::unique_ptr&lt; <a class="el" href="classMDAL_1_1Mesh.html">Mesh</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>load</b> (const std::string &amp;meshFile, const std::string &amp;meshName=&quot;&quot;) override</td></tr>
<tr class="separator:a43f81ec0f50529352edd2c2dbc50cf47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84de1d6f891c03e5eba4013c2784c96e"><td class="memItemLeft" align="right" valign="top"><a id="a84de1d6f891c03e5eba4013c2784c96e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>save</b> (const std::string &amp;fileName, const std::string &amp;, <a class="el" href="classMDAL_1_1Mesh.html">Mesh</a> *mesh) override</td></tr>
<tr class="separator:a84de1d6f891c03e5eba4013c2784c96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3563e720230856a8ab522ec3701f130"><td class="memItemLeft" align="right" valign="top"><a id="aa3563e720230856a8ab522ec3701f130"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>saveMeshOnFileSuffix</b> () const override</td></tr>
<tr class="separator:aa3563e720230856a8ab522ec3701f130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classMDAL_1_1Driver"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classMDAL_1_1Driver')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classMDAL_1_1Driver.html">MDAL::Driver</a></td></tr>
<tr class="memitem:a42de49aa84214803e10c4560bbf15e54 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a42de49aa84214803e10c4560bbf15e54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Driver</b> (const std::string &amp;name, const std::string &amp;longName, const std::string &amp;filters, int capabilityFlags)</td></tr>
<tr class="separator:a42de49aa84214803e10c4560bbf15e54 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa24a209b6aee4db2f3d9ff1ca4ebc2 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a4fa24a209b6aee4db2f3d9ff1ca4ebc2"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>name</b> () const</td></tr>
<tr class="separator:a4fa24a209b6aee4db2f3d9ff1ca4ebc2 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b9ac22cd95dd4dc67de4e559b84916 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a50b9ac22cd95dd4dc67de4e559b84916"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>longName</b> () const</td></tr>
<tr class="separator:a50b9ac22cd95dd4dc67de4e559b84916 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d2d35758a8bc3861f2adf07f8ec36f inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="ac4d2d35758a8bc3861f2adf07f8ec36f"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>filters</b> () const</td></tr>
<tr class="separator:ac4d2d35758a8bc3861f2adf07f8ec36f inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad346050ddf2ca7deb994f9870061fa23 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="ad346050ddf2ca7deb994f9870061fa23"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hasCapability</b> (Capability capability) const</td></tr>
<tr class="separator:ad346050ddf2ca7deb994f9870061fa23 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d78263a15849121d59f743e884f65cd inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a8d78263a15849121d59f743e884f65cd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hasWriteDatasetCapability</b> (MDAL_DataLocation location) const</td></tr>
<tr class="separator:a8d78263a15849121d59f743e884f65cd inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7bd2d1b54ac960d0a5783d92930bbed inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="ae7bd2d1b54ac960d0a5783d92930bbed"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>writeDatasetOnFileSuffix</b> () const</td></tr>
<tr class="separator:ae7bd2d1b54ac960d0a5783d92930bbed inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad9b92603c5a5604521a362bb1824cab inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="aad9b92603c5a5604521a362bb1824cab"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>canReadDatasets</b> (const std::string &amp;uri)</td></tr>
<tr class="separator:aad9b92603c5a5604521a362bb1824cab inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927dfdb5436b7366e07d3f3911860712 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a927dfdb5436b7366e07d3f3911860712"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>buildUri</b> (const std::string &amp;meshFile)</td></tr>
<tr class="separator:a927dfdb5436b7366e07d3f3911860712 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044f630d44ef5526e766bfd1a8023899 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a044f630d44ef5526e766bfd1a8023899"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>load</b> (const std::string &amp;uri, <a class="el" href="classMDAL_1_1Mesh.html">Mesh</a> *mesh)</td></tr>
<tr class="separator:a044f630d44ef5526e766bfd1a8023899 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18763fc037c167430768587ffb77c39 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="ae18763fc037c167430768587ffb77c39"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>createDatasetGroup</b> (<a class="el" href="classMDAL_1_1Mesh.html">Mesh</a> *mesh, const std::string &amp;groupName, MDAL_DataLocation dataLocation, bool hasScalarData, const std::string &amp;datasetGroupFile)</td></tr>
<tr class="separator:ae18763fc037c167430768587ffb77c39 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2647f4c3d754093bbc01f11d0c142d7f inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a2647f4c3d754093bbc01f11d0c142d7f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>createDataset</b> (<a class="el" href="classMDAL_1_1DatasetGroup.html">DatasetGroup</a> *group, <a class="el" href="classMDAL_1_1RelativeTimestamp.html">RelativeTimestamp</a> time, const double *values, const int *active)</td></tr>
<tr class="separator:a2647f4c3d754093bbc01f11d0c142d7f inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f2262965e16a5b374338cb3305bcf8 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a87f2262965e16a5b374338cb3305bcf8"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>createDataset</b> (<a class="el" href="classMDAL_1_1DatasetGroup.html">DatasetGroup</a> *group, <a class="el" href="classMDAL_1_1RelativeTimestamp.html">RelativeTimestamp</a> time, const double *values, const int *verticalLevelCount, const double *verticalExtrusion)</td></tr>
<tr class="separator:a87f2262965e16a5b374338cb3305bcf8 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0b81ca98475a00266822a3f88344a7 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a8b0b81ca98475a00266822a3f88344a7"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>persist</b> (<a class="el" href="classMDAL_1_1DatasetGroup.html">DatasetGroup</a> *group)</td></tr>
<tr class="separator:a8b0b81ca98475a00266822a3f88344a7 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>2DM format specification used in TUFLOW, HYDRO_AS-2D and BASEMENET solvers Text file format representing mesh vertices (ND) and faces (E**) ND id x y z The format supports lines, triangles and quads, where the elememts could be stored with some intermediate points (e.g. </p>
<p>triangle defined by 6 vertices, vertices and the middle of the edges) We do support only simple definition, so E6T, E8Q and E9Q are not supported. E3T id 1 2 3 mat_id -&gt; face type, id, vertex indices ..., material index</p>
<p>full specification here: <a href="https://www.xmswiki.com/wiki/SMS:2D_Mesh_Files_">https://www.xmswiki.com/wiki/SMS:2D_Mesh_Files_</a>*.2dm</p>
<p>This will process as many material IDs as promised by the NUM_MATERIALS_PER_ELEM tag and add them as face dataset groups. The naming for these groups is "Material ID" for the first, "Bed Elevation (Face)" for the second, and finally "Auxiliary Material ID &lt;X&gt;" for any subsequent materials, X being a counter to ensure unique group names: E** id 1 2 3 [Material ID] [Bed Elevation (Face)] [Auxiliary Material ID 1] [Auxiliary Material ID 2] ... If the NUM_MATERIALS_PER_ELEM tag is not provided, a fallback mode is used that will only check for the second MATID column and add it under the name "Bed Elevation (Face)" if found. Noe that this is purely a compatibility mode for BASEMENT 3.x releases; NUM_MATERIALS_... is a required tag according to the 2DM specification.</p>
<p>Note that some 2dm formats do have some extra columns after mat_id column with data with unknown origin/name (e.g. tests/data/2dm/regular_grid.2dm)</p>
<p>HYDRO_AS-2D also allows gaps in vertex indexing. In this case we support only files where the vertices are sorted by ID in the source file (limitation of the implementation)</p>
<p>Vertex/Face IDs should be indexed from 1. We support indexing from 0 for datasets in xmdf format, but not for ascii dat format (since the loop is from 0 to maximumVertexId() which is in this case numberical_limits&lt;size_t&gt;::max(); (limitation of the implementation) </p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="mdal__2dm_8hpp_source.html">mdal_2dm.hpp</a></li>
<li>mdal_2dm.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
