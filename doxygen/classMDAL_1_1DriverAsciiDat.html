<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MDAL: MDAL::DriverAsciiDat Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MDAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>MDAL</b></li><li class="navelem"><a class="el" href="classMDAL_1_1DriverAsciiDat.html">DriverAsciiDat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMDAL_1_1DriverAsciiDat-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MDAL::DriverAsciiDat Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>ASCII Dat format is used by various solvers and the output from various solvers can have slightly different header.  
 <a href="classMDAL_1_1DriverAsciiDat.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mdal__ascii__dat_8hpp_source.html">mdal_ascii_dat.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MDAL::DriverAsciiDat:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMDAL_1_1DriverAsciiDat.png" usemap="#MDAL::DriverAsciiDat_map" alt=""/>
  <map id="MDAL::DriverAsciiDat_map" name="MDAL::DriverAsciiDat_map">
<area href="classMDAL_1_1Driver.html" alt="MDAL::Driver" shape="rect" coords="0,0,137,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a22465a2764a53656909efa7ee81e4c6f"><td class="memItemLeft" align="right" valign="top"><a id="a22465a2764a53656909efa7ee81e4c6f"></a>
<a class="el" href="classMDAL_1_1DriverAsciiDat.html">DriverAsciiDat</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>create</b> () override</td></tr>
<tr class="separator:a22465a2764a53656909efa7ee81e4c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0ca29cd88476fe778a86d7d8f88e6a"><td class="memItemLeft" align="right" valign="top"><a id="a5b0ca29cd88476fe778a86d7d8f88e6a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>canReadDatasets</b> (const std::string &amp;uri) override</td></tr>
<tr class="separator:a5b0ca29cd88476fe778a86d7d8f88e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55b6de5d9742a923911be26d18b59a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDAL_1_1DriverAsciiDat.html#ab55b6de5d9742a923911be26d18b59a1">load</a> (const std::string &amp;datFile, <a class="el" href="classMDAL_1_1Mesh.html">Mesh</a> *mesh) override</td></tr>
<tr class="memdesc:ab55b6de5d9742a923911be26d18b59a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DAT format contains "datasets" and each dataset has N-outputs.  <a href="classMDAL_1_1DriverAsciiDat.html#ab55b6de5d9742a923911be26d18b59a1">More...</a><br /></td></tr>
<tr class="separator:ab55b6de5d9742a923911be26d18b59a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce69523588051329dcb6ea5e35a3e7c"><td class="memItemLeft" align="right" valign="top"><a id="a0ce69523588051329dcb6ea5e35a3e7c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>persist</b> (<a class="el" href="classMDAL_1_1DatasetGroup.html">DatasetGroup</a> *group) override</td></tr>
<tr class="separator:a0ce69523588051329dcb6ea5e35a3e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8cb1d908d178a84a505f08655f82bf8"><td class="memItemLeft" align="right" valign="top"><a id="ad8cb1d908d178a84a505f08655f82bf8"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>writeDatasetOnFileSuffix</b> () const override</td></tr>
<tr class="separator:ad8cb1d908d178a84a505f08655f82bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classMDAL_1_1Driver"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classMDAL_1_1Driver')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classMDAL_1_1Driver.html">MDAL::Driver</a></td></tr>
<tr class="memitem:a42de49aa84214803e10c4560bbf15e54 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a42de49aa84214803e10c4560bbf15e54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Driver</b> (const std::string &amp;name, const std::string &amp;longName, const std::string &amp;filters, int capabilityFlags)</td></tr>
<tr class="separator:a42de49aa84214803e10c4560bbf15e54 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa24a209b6aee4db2f3d9ff1ca4ebc2 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a4fa24a209b6aee4db2f3d9ff1ca4ebc2"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>name</b> () const</td></tr>
<tr class="separator:a4fa24a209b6aee4db2f3d9ff1ca4ebc2 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b9ac22cd95dd4dc67de4e559b84916 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a50b9ac22cd95dd4dc67de4e559b84916"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>longName</b> () const</td></tr>
<tr class="separator:a50b9ac22cd95dd4dc67de4e559b84916 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d2d35758a8bc3861f2adf07f8ec36f inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="ac4d2d35758a8bc3861f2adf07f8ec36f"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>filters</b> () const</td></tr>
<tr class="separator:ac4d2d35758a8bc3861f2adf07f8ec36f inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad346050ddf2ca7deb994f9870061fa23 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="ad346050ddf2ca7deb994f9870061fa23"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hasCapability</b> (Capability capability) const</td></tr>
<tr class="separator:ad346050ddf2ca7deb994f9870061fa23 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d78263a15849121d59f743e884f65cd inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a8d78263a15849121d59f743e884f65cd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hasWriteDatasetCapability</b> (MDAL_DataLocation location) const</td></tr>
<tr class="separator:a8d78263a15849121d59f743e884f65cd inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac56a9c18f637f432bec8e18a08dcd11b inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="ac56a9c18f637f432bec8e18a08dcd11b"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>saveMeshOnFileSuffix</b> () const</td></tr>
<tr class="separator:ac56a9c18f637f432bec8e18a08dcd11b inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c8d67f403d352d57cd96ad34fabbe5b inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a4c8d67f403d352d57cd96ad34fabbe5b"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>canReadMesh</b> (const std::string &amp;uri)</td></tr>
<tr class="separator:a4c8d67f403d352d57cd96ad34fabbe5b inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f1fd8973322c6ebc4af54cf1fa414e7 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a8f1fd8973322c6ebc4af54cf1fa414e7"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDAL_1_1Driver.html#a8f1fd8973322c6ebc4af54cf1fa414e7">faceVerticesMaximumCount</a> () const</td></tr>
<tr class="memdesc:a8f1fd8973322c6ebc4af54cf1fa414e7 inherit pub_methods_classMDAL_1_1Driver"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the maximum vertices per face <br /></td></tr>
<tr class="separator:a8f1fd8973322c6ebc4af54cf1fa414e7 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927dfdb5436b7366e07d3f3911860712 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a927dfdb5436b7366e07d3f3911860712"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>buildUri</b> (const std::string &amp;meshFile)</td></tr>
<tr class="separator:a927dfdb5436b7366e07d3f3911860712 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5751342b514595c416648422f9fb8637 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a5751342b514595c416648422f9fb8637"></a>
virtual std::unique_ptr&lt; <a class="el" href="classMDAL_1_1Mesh.html">Mesh</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>load</b> (const std::string &amp;uri, const std::string &amp;meshName=&quot;&quot;)</td></tr>
<tr class="separator:a5751342b514595c416648422f9fb8637 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5790f55ceb1ad93776795589ad1fe4b inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="af5790f55ceb1ad93776795589ad1fe4b"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>save</b> (const std::string &amp;fileName, const std::string &amp;meshName, <a class="el" href="classMDAL_1_1Mesh.html">Mesh</a> *mesh)</td></tr>
<tr class="separator:af5790f55ceb1ad93776795589ad1fe4b inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18763fc037c167430768587ffb77c39 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="ae18763fc037c167430768587ffb77c39"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>createDatasetGroup</b> (<a class="el" href="classMDAL_1_1Mesh.html">Mesh</a> *mesh, const std::string &amp;groupName, MDAL_DataLocation dataLocation, bool hasScalarData, const std::string &amp;datasetGroupFile)</td></tr>
<tr class="separator:ae18763fc037c167430768587ffb77c39 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2647f4c3d754093bbc01f11d0c142d7f inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a2647f4c3d754093bbc01f11d0c142d7f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>createDataset</b> (<a class="el" href="classMDAL_1_1DatasetGroup.html">DatasetGroup</a> *group, <a class="el" href="classMDAL_1_1RelativeTimestamp.html">RelativeTimestamp</a> time, const double *values, const int *active)</td></tr>
<tr class="separator:a2647f4c3d754093bbc01f11d0c142d7f inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f2262965e16a5b374338cb3305bcf8 inherit pub_methods_classMDAL_1_1Driver"><td class="memItemLeft" align="right" valign="top"><a id="a87f2262965e16a5b374338cb3305bcf8"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>createDataset</b> (<a class="el" href="classMDAL_1_1DatasetGroup.html">DatasetGroup</a> *group, <a class="el" href="classMDAL_1_1RelativeTimestamp.html">RelativeTimestamp</a> time, const double *values, const int *verticalLevelCount, const double *verticalExtrusion)</td></tr>
<tr class="separator:a87f2262965e16a5b374338cb3305bcf8 inherit pub_methods_classMDAL_1_1Driver"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ASCII Dat format is used by various solvers and the output from various solvers can have slightly different header. </p>
<p>The format is used by TUFLOW, BASEMENT and HYDRO_AS-2D solvers.</p>
<p>The most frequent form is based on official SMS documentation <a href="https://www.xmswiki.com/wiki/SMS:ASCII_Dataset_Files_">https://www.xmswiki.com/wiki/SMS:ASCII_Dataset_Files_</a>*.dat The official format only supports data defined on vertices, both scalar vector. The new format is recognized by keyword "DATASET" on the first line of the file.</p>
<p>BASEMENT solver also stores data defined on elements. Element is either face or edge. To recognize such dataset, the dataset name contains "_els_" substring (e.g. depth_els_1.dat). We do not support reading element data for meshes with combined 2D (faces) and 1D elements (edges)</p>
<p>HYDRO_AS-2D solver can have mesh that has numbering gaps, but speficies values for even missing indexes in dataset file</p>
<p>In one file, there is always one dataset group stored.</p>
<p>Sometime the "older" datasets may have some part of the header missing, e.g. the file starts with SCALAR or VECTOR or TS keyword. The older format does not have "active" flags for faces and does not recognize most of the keywords. Old format data are always defined on vertices </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab55b6de5d9742a923911be26d18b59a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab55b6de5d9742a923911be26d18b59a1">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MDAL::DriverAsciiDat::load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>datFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMDAL_1_1Mesh.html">MDAL::Mesh</a> *&#160;</td>
          <td class="paramname"><em>mesh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The DAT format contains "datasets" and each dataset has N-outputs. </p>
<p>One output represents data for all vertices/faces for one timestep</p>
<p>In MDAL we convert one output to one MDAL dataset; </p>

<p>Reimplemented from <a class="el" href="classMDAL_1_1Driver.html">MDAL::Driver</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="mdal__ascii__dat_8hpp_source.html">mdal_ascii_dat.hpp</a></li>
<li>mdal_ascii_dat.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
